import{_ as pe,K as ge,N as ze,r as L,O as Ie,A as De,u as $e,P as Le,h as Oe,s as Ae,j as e,S as Q,H as oe,q as Z,Q as Re,f as U,g as X,C as de,d as Ge,e as Ne,k as P,l as T,J as xe,o as z,n as fe,T as ae,U as qe,R as Me,E as le}from"./index-P0oc4blE.js";import{I as ue}from"./InputSilder-WJJyUHLH.js";import{condition as We}from"./index-fwKB3NGr.js";import"./chunk-TK6VMDNP-DTNDeJlA.js";function se(){se=function(){return r};var r={},l=Object.prototype,a=l.hasOwnProperty,f=Object.defineProperty||function(n,t,i){n[t]=i.value},c=typeof Symbol=="function"?Symbol:{},x=c.iterator||"@@iterator",g=c.asyncIterator||"@@asyncIterator",F=c.toStringTag||"@@toStringTag";function o(n,t,i){return Object.defineProperty(n,t,{value:i,enumerable:!0,configurable:!0,writable:!0}),n[t]}try{o({},"")}catch{o=function(t,i,d){return t[i]=d}}function m(n,t,i,d){var u=t&&t.prototype instanceof O?t:O,h=Object.create(u.prototype),w=new I(d||[]);return f(h,"_invoke",{value:re(n,i,w)}),h}function _(n,t,i){try{return{type:"normal",arg:n.call(t,i)}}catch(d){return{type:"throw",arg:d}}}r.wrap=m;var s={};function O(){}function A(){}function k(){}var b={};o(b,x,function(){return this});var ee=Object.getPrototypeOf,Y=ee&&ee(ee(H([])));Y&&Y!==l&&a.call(Y,x)&&(b=Y);var R=k.prototype=O.prototype=Object.create(b);function te(n){["next","throw","return"].forEach(function(t){o(n,t,function(i){return this._invoke(t,i)})})}function G(n,t){function i(u,h,w,y){var S=_(n[u],n,h);if(S.type!=="throw"){var D=S.arg,j=D.value;return j&&typeof j=="object"&&a.call(j,"__await")?t.resolve(j.__await).then(function(E){i("next",E,w,y)},function(E){i("throw",E,w,y)}):t.resolve(j).then(function(E){D.value=E,w(D)},function(E){return i("throw",E,w,y)})}y(S.arg)}var d;f(this,"_invoke",{value:function(u,h){function w(){return new t(function(y,S){i(u,h,y,S)})}return d=d?d.then(w,w):w()}})}function re(n,t,i){var d="suspendedStart";return function(u,h){if(d==="executing")throw new Error("Generator is already running");if(d==="completed"){if(u==="throw")throw h;return M()}for(i.method=u,i.arg=h;;){var w=i.delegate;if(w){var y=ne(w,i);if(y){if(y===s)continue;return y}}if(i.method==="next")i.sent=i._sent=i.arg;else if(i.method==="throw"){if(d==="suspendedStart")throw d="completed",i.arg;i.dispatchException(i.arg)}else i.method==="return"&&i.abrupt("return",i.arg);d="executing";var S=_(n,t,i);if(S.type==="normal"){if(d=i.done?"completed":"suspendedYield",S.arg===s)continue;return{value:S.arg,done:i.done}}S.type==="throw"&&(d="completed",i.method="throw",i.arg=S.arg)}}}function ne(n,t){var i=t.method,d=n.iterator[i];if(d===void 0)return t.delegate=null,i==="throw"&&n.iterator.return&&(t.method="return",t.arg=void 0,ne(n,t),t.method==="throw")||i!=="return"&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+i+"' method")),s;var u=_(d,n.iterator,t.arg);if(u.type==="throw")return t.method="throw",t.arg=u.arg,t.delegate=null,s;var h=u.arg;return h?h.done?(t[n.resultName]=h.value,t.next=n.nextLoc,t.method!=="return"&&(t.method="next",t.arg=void 0),t.delegate=null,s):h:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,s)}function J(n){var t={tryLoc:n[0]};1 in n&&(t.catchLoc=n[1]),2 in n&&(t.finallyLoc=n[2],t.afterLoc=n[3]),this.tryEntries.push(t)}function q(n){var t=n.completion||{};t.type="normal",delete t.arg,n.completion=t}function I(n){this.tryEntries=[{tryLoc:"root"}],n.forEach(J,this),this.reset(!0)}function H(n){if(n){var t=n[x];if(t)return t.call(n);if(typeof n.next=="function")return n;if(!isNaN(n.length)){var i=-1,d=function u(){for(;++i<n.length;)if(a.call(n,i))return u.value=n[i],u.done=!1,u;return u.value=void 0,u.done=!0,u};return d.next=d}}return{next:M}}function M(){return{value:void 0,done:!0}}return A.prototype=k,f(R,"constructor",{value:k,configurable:!0}),f(k,"constructor",{value:A,configurable:!0}),A.displayName=o(k,F,"GeneratorFunction"),r.isGeneratorFunction=function(n){var t=typeof n=="function"&&n.constructor;return!!t&&(t===A||(t.displayName||t.name)==="GeneratorFunction")},r.mark=function(n){return Object.setPrototypeOf?Object.setPrototypeOf(n,k):(n.__proto__=k,o(n,F,"GeneratorFunction")),n.prototype=Object.create(R),n},r.awrap=function(n){return{__await:n}},te(G.prototype),o(G.prototype,g,function(){return this}),r.AsyncIterator=G,r.async=function(n,t,i,d,u){u===void 0&&(u=Promise);var h=new G(m(n,t,i,d),u);return r.isGeneratorFunction(t)?h:h.next().then(function(w){return w.done?w.value:h.next()})},te(R),o(R,F,"Generator"),o(R,x,function(){return this}),o(R,"toString",function(){return"[object Generator]"}),r.keys=function(n){var t=Object(n),i=[];for(var d in t)i.push(d);return i.reverse(),function u(){for(;i.length;){var h=i.pop();if(h in t)return u.value=h,u.done=!1,u}return u.done=!0,u}},r.values=H,I.prototype={constructor:I,reset:function(n){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(q),!n)for(var t in this)t.charAt(0)==="t"&&a.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var n=this.tryEntries[0].completion;if(n.type==="throw")throw n.arg;return this.rval},dispatchException:function(n){if(this.done)throw n;var t=this;function i(S,D){return h.type="throw",h.arg=n,t.next=S,D&&(t.method="next",t.arg=void 0),!!D}for(var d=this.tryEntries.length-1;d>=0;--d){var u=this.tryEntries[d],h=u.completion;if(u.tryLoc==="root")return i("end");if(u.tryLoc<=this.prev){var w=a.call(u,"catchLoc"),y=a.call(u,"finallyLoc");if(w&&y){if(this.prev<u.catchLoc)return i(u.catchLoc,!0);if(this.prev<u.finallyLoc)return i(u.finallyLoc)}else if(w){if(this.prev<u.catchLoc)return i(u.catchLoc,!0)}else{if(!y)throw new Error("try statement without catch or finally");if(this.prev<u.finallyLoc)return i(u.finallyLoc)}}}},abrupt:function(n,t){for(var i=this.tryEntries.length-1;i>=0;--i){var d=this.tryEntries[i];if(d.tryLoc<=this.prev&&a.call(d,"finallyLoc")&&this.prev<d.finallyLoc){var u=d;break}}u&&(n==="break"||n==="continue")&&u.tryLoc<=t&&t<=u.finallyLoc&&(u=null);var h=u?u.completion:{};return h.type=n,h.arg=t,u?(this.method="next",this.next=u.finallyLoc,s):this.complete(h)},complete:function(n,t){if(n.type==="throw")throw n.arg;return n.type==="break"||n.type==="continue"?this.next=n.arg:n.type==="return"?(this.rval=this.arg=n.arg,this.method="return",this.next="end"):n.type==="normal"&&t&&(this.next=t),s},finish:function(n){for(var t=this.tryEntries.length-1;t>=0;--t){var i=this.tryEntries[t];if(i.finallyLoc===n)return this.complete(i.completion,i.afterLoc),q(i),s}},catch:function(n){for(var t=this.tryEntries.length-1;t>=0;--t){var i=this.tryEntries[t];if(i.tryLoc===n){var d=i.completion;if(d.type==="throw"){var u=d.arg;q(i)}return u}}throw new Error("illegal catch attempt")},delegateYield:function(n,t,i){return this.delegate={iterator:H(n),resultName:t,nextLoc:i},this.method==="next"&&(this.arg=void 0),s}},r}function Ce(r,l,a,f,c,x,g){try{var F=r[x](g),o=F.value}catch(m){a(m);return}F.done?l(o):Promise.resolve(o).then(f,c)}function _e(r){return function(){var l=this,a=arguments;return new Promise(function(f,c){var x=r.apply(l,a);function g(o){Ce(x,f,c,g,F,"next",o)}function F(o){Ce(x,f,c,g,F,"throw",o)}g(void 0)})}}function he(){return he=Object.assign?Object.assign.bind():function(r){for(var l=1;l<arguments.length;l++){var a=arguments[l];for(var f in a)Object.prototype.hasOwnProperty.call(a,f)&&(r[f]=a[f])}return r},he.apply(this,arguments)}function Ve(r){if(r==null)throw new TypeError("Cannot destructure "+r)}var Be=new Map([["avi","video/avi"],["gif","image/gif"],["ico","image/x-icon"],["jpeg","image/jpeg"],["jpg","image/jpeg"],["mkv","video/x-matroska"],["mov","video/quicktime"],["mp4","video/mp4"],["pdf","application/pdf"],["png","image/png"],["zip","application/zip"],["doc","application/msword"],["docx","application/vnd.openxmlformats-officedocument.wordprocessingml.document"]]);function ve(r,l){var a=Ye(r);if(typeof a.path!="string"){var f=r.webkitRelativePath;Object.defineProperty(a,"path",{value:typeof l=="string"?l:typeof f=="string"&&f.length>0?f:r.name,writable:!1,configurable:!1,enumerable:!0})}return a}function Ye(r){var l=r.name,a=l&&l.lastIndexOf(".")!==-1;if(a&&!r.type){var f=l.split(".").pop().toLowerCase(),c=Be.get(f);c&&Object.defineProperty(r,"type",{value:c,writable:!1,configurable:!1,enumerable:!0})}return r}var He=[".DS_Store","Thumbs.db"];function Je(r){return pe(this,void 0,void 0,function(){return ge(this,function(l){return[2,Ke(r)&&r.dataTransfer?Xe(r.dataTransfer,r.type):Qe(r)]})})}function Ke(r){return!!r.dataTransfer}function Qe(r){var l=Ue(r.target)?r.target.files?be(r.target.files):[]:[];return l.map(function(a){return ve(a)})}function Ue(r){return r!==null}function Xe(r,l){return pe(this,void 0,void 0,function(){var a,f;return ge(this,function(c){switch(c.label){case 0:return r.items?(a=be(r.items).filter(function(x){return x.kind==="file"}),l!=="drop"?[2,a]:[4,Promise.all(a.map(Ze))]):[3,2];case 1:return f=c.sent(),[2,Fe(Pe(f))];case 2:return[2,Fe(be(r.files).map(function(x){return ve(x)}))]}})})}function Fe(r){return r.filter(function(l){return He.indexOf(l.name)===-1})}function be(r){for(var l=[],a=0;a<r.length;a++){var f=r[a];l.push(f)}return l}function Ze(r){if(typeof r.webkitGetAsEntry!="function")return ke(r);var l=r.webkitGetAsEntry();return l&&l.isDirectory?Te(l):ke(r)}function Pe(r){return r.reduce(function(l,a){return ze(l,Array.isArray(a)?Pe(a):[a])},[])}function ke(r){var l=r.getAsFile();if(!l)return Promise.reject(r+" is not a File");var a=ve(l);return Promise.resolve(a)}function et(r){return pe(this,void 0,void 0,function(){return ge(this,function(l){return[2,r.isDirectory?Te(r):tt(r)]})})}function Te(r){var l=r.createReader();return new Promise(function(a,f){var c=[];function x(){var g=this;l.readEntries(function(F){return pe(g,void 0,void 0,function(){var o,m,_;return ge(this,function(s){switch(s.label){case 0:if(F.length)return[3,5];s.label=1;case 1:return s.trys.push([1,3,,4]),[4,Promise.all(c)];case 2:return o=s.sent(),a(o),[3,4];case 3:return m=s.sent(),f(m),[3,4];case 4:return[3,6];case 5:_=Promise.all(F.map(et)),c.push(_),x(),s.label=6;case 6:return[2]}})})},function(F){f(F)})}x()})}function tt(r){return pe(this,void 0,void 0,function(){return ge(this,function(l){return[2,new Promise(function(a,f){r.file(function(c){var x=ve(c,r.fullPath);a(x)},function(c){f(c)})})]})})}function rt(r,l,a,f){var c=document.createElement("input");c.style.display="none",document.body.appendChild(c),c.type="file",r!=="*"&&(c.accept=r),c.multiple=l,c.addEventListener("change",function(x){a(x),document.body.removeChild(c)}),f&&f(c),c.dispatchEvent(new MouseEvent("click"))}var nt=function(l){var a=l.onFilesSelected,f=l.onFilesSuccessfullySelected,c=l.onFilesRejected,x=l.onClear,g=l.validators,F=L.useCallback(function(s){a==null||a(s),g==null||g.forEach(function(O){O.onFilesSelected(s)})},[a,g]),o=L.useCallback(function(s){f==null||f(s),g==null||g.forEach(function(O){O.onFilesSuccessfullySelected(s)})},[g,f]),m=L.useCallback(function(s){c==null||c(s),g==null||g.forEach(function(O){O.onFilesRejected(s)})},[g,c]),_=L.useCallback(function(){x==null||x(),g==null||g.forEach(function(s){s.onClear==null||s.onClear()})},[g,x]);return{onFilesSelected:F,onFilesSuccessfullySelected:o,onFilesRejected:m,onClear:_}},st=[];function Ee(r){var l=r.accept,a=l===void 0?"*":l,f=r.multiple,c=f===void 0?!0:f,x=r.readAs,g=x===void 0?"Text":x,F=r.readFilesContent,o=F===void 0?!0:F,m=r.validators,_=m===void 0?st:m,s=r.initializeWithCustomParameters,O=L.useState([]),A=O[0],k=O[1],b=L.useState([]),ee=b[0],Y=b[1],R=L.useState([]),te=R[0],G=R[1],re=L.useState(!1),ne=re[0],J=re[1],q=nt(r),I=q.onFilesSelected,H=q.onFilesSuccessfullySelected,M=q.onFilesRejected,n=q.onClear,t=L.useCallback(function(){k([]),Y([]),G([])},[]),i=L.useCallback(function(){t(),n==null||n()},[t,n]),d=L.useCallback(function(h){return new Promise(function(){var w=_e(se().mark(function y(S,D){var j,E,K;return se().wrap(function(V){for(;;)switch(V.prev=V.next){case 0:j=new FileReader,E=j["readAs"+g],E.call(j,h),K=function(C){var $=he({},(Ve(C),C));D(he({},$))},j.onload=_e(se().mark(function ie(){return se().wrap(function($){for(;;)switch($.prev=$.next){case 0:return $.abrupt("return",Promise.all(_.map(function(N){return N.validateAfterParsing(r,h,j).catch(function(me){return Promise.reject(K(me))})})).then(function(){return S(he({},h,{content:j.result,name:h.name,lastModified:h.lastModified}))}).catch(function(){}));case 1:case"end":return $.stop()}},ie)})),j.onerror=function(){K({name:"FileReaderError",readerError:j.error,causedByFile:h})};case 6:case"end":return V.stop()}},y)}));return function(y,S){return w.apply(this,arguments)}}())},[r,g,_]),u=L.useCallback(function(){var h=a instanceof Array?a.join(","):a;rt(h,c,function(){var w=_e(se().mark(function y(S){var D,j,E,K,W,V;return se().wrap(function(C){for(;;)switch(C.prev=C.next){case 0:return t(),D=S.target,j=D.files?Array.from(D.files):[],J(!0),C.next=6,Promise.all(_.map(function($){return $.validateBeforeParsing(r,j).catch(function(N){return Array.isArray(N)?N:[N]})}));case 6:if(E=C.sent.flat(1).filter(Boolean),k(j),G(E),!E.length){C.next=15;break}return J(!1),k([]),M==null||M({errors:E}),I==null||I({errors:E}),C.abrupt("return");case 15:if(o){C.next=19;break}return J(!1),I==null||I({plainFiles:j,filesContent:[]}),C.abrupt("return");case 19:return C.next=21,Je(S);case 21:return K=C.sent,W=[],C.next=25,Promise.all(K.map(function($){return d($).catch(function(N){W.push.apply(W,Array.isArray(N)?N:[N])})}));case 25:if(V=C.sent,J(!1),!W.length){C.next=34;break}return k([]),Y([]),G(function($){return[].concat($,W)}),M==null||M({errors:W}),I==null||I({errors:E.concat(W)}),C.abrupt("return");case 34:Y(V),k(j),G([]),H==null||H({filesContent:V,plainFiles:j}),I==null||I({plainFiles:j,filesContent:V});case 39:case"end":return C.stop()}},y)}));return function(y){return w.apply(this,arguments)}}(),s)},[r,a,t,s,c,M,I,H,d,o,_]);return{openFilePicker:u,filesContent:ee,errors:te,loading:ne,plainFiles:A,clear:i}}function ut(){var R,te,G,re,ne,J,q,I,H,M,n,t,i,d,u,h,w,y,S,D,j,E,K,W,V,ie,C,$,N,me,we,je,ye,Se;const r=Ie(),l=L.useContext(De),a=$e(),f=Le(),[c,x]=L.useState(),{register:g,handleSubmit:F,formState:{errors:o,isSubmitting:m},setValue:_,watch:s}=Oe(),O=async p=>{var B;const v=await U.post(`/dashboard/widgets/${r.id}/edit`,{...p,image:void 0,sound:void 0,text_display_delay:1,condition_amount:(p.condition_amount*100).toFixed(0)},(B=l.props.auth)==null?void 0:B.token);if(v.errors){X(v.errors,a);return}a({status:"success",title:"настройки сохранены!"})},A=async p=>{var B;const v=await U.get(`/dashboard/widgets/${r.id}`,void 0,(B=l.props.auth)==null?void 0:B.token);if(v.errors){X(v.errors,a);return}if(p)for(const ce of Object.keys(v.widget)){if(ce.endsWith("amount")){_(ce,v.widget[ce]/100);continue}_(ce,v.widget[ce])}x(v.widget)},[k,b]=Ae();L.useEffect(()=>{A(!0)},[]);const ee=Ee({accept:[".png",".gif",".webp"],multiple:!1,onFilesSuccessfullySelected:async({plainFiles:p})=>{var B;b.on();const v=await U.postForm(`/dashboard/widgets/${r.id}/upload_file`,{image:p[0]},(B=l.props.auth)==null?void 0:B.token);if(v.errors){X(v.errors,a),b.off();return}await A(),b.off()}}),Y=Ee({accept:[".mp3",".wav"],multiple:!1,onFilesSuccessfullySelected:async({plainFiles:p})=>{var B;b.on();const v=await U.postForm(`/dashboard/widgets/${r.id}/upload_file`,{sound:p[0]},(B=l.props.auth)==null?void 0:B.token);if(v.errors){X(v.errors,a),b.off();return}await A(),b.off()}});return e.jsx("form",{onSubmit:F(O),children:e.jsxs(Q,{direction:"column",spacing:4,children:[e.jsxs(Q,{direction:"row",spacing:2,justifyContent:"space-between",alignItems:["start","center"],children:[e.jsx(oe,{children:"виджет"}),c&&!c.is_default?e.jsx(Z,{leftIcon:e.jsx(Re,{}),onClick:async()=>{var v;const p=await U.post(`/dashboard/widgets/${r.id}/delete`,void 0,(v=l.props.auth)==null?void 0:v.token);if(p.errors){X(p.errors,a),b.off();return}a({status:"success",title:"виджет удален!"}),f("/dashboard/widgets")},children:"удалить"}):e.jsx(e.Fragment,{})]}),c?e.jsxs(e.Fragment,{children:[e.jsxs(Q,{direction:"column",spacing:2,children:[!c.is_default&&e.jsxs(Ne,{spacing:2,columns:2,children:[e.jsxs(P,{isInvalid:!!o.condition_type,children:[e.jsx(T,{children:"условие"}),e.jsxs(xe,{isDisabled:m,_focusVisible:{borderColor:"brand.500",boxShadow:"0 0 0 1px var(--aithercol-colors-brand-500)"},...g("condition_type",{required:!0}),children:[e.jsx("option",{value:"greater",children:"больше"}),e.jsx("option",{value:"greater_and_equal",children:"больше или равно"}),e.jsx("option",{value:"equal",children:"равно"})]}),e.jsx(z,{error:o.condition_type})]}),e.jsxs(P,{isInvalid:!!o.condition_amount,children:[e.jsxs(T,{children:["сумма в ",(R=l.props.auth)==null?void 0:R.profile.default_currency]}),e.jsx(fe,{isDisabled:m,placeholder:"введите сумму",_focusVisible:{borderColor:"brand.500",boxShadow:"0 0 0 1px var(--aithercol-colors-brand-500)"},...g("condition_amount",{required:!0,valueAsNumber:!0,validate:p=>p>0||"bad_number"})}),e.jsx(z,{error:o.condition_amount})]})]}),e.jsxs(ae,{fontSize:"sm",children:["виджет сработает только если сумма доната"," ",We[s("condition_type")]," ",s("condition_amount")||0," ",(te=l.props.auth)==null?void 0:te.profile.default_currency]}),e.jsxs(P,{isInvalid:!!o.duration,children:[e.jsx(T,{children:"длительность оповещения в секундах"}),e.jsx(ue,{isDisabled:m,min:1,max:60,value:s("duration"),onChange:p=>_("duration",p)}),e.jsx(z,{error:o.duration})]})]}),e.jsxs(Q,{direction:"column",spacing:2,children:[e.jsx(oe,{size:"md",children:"изображение"}),c.image?e.jsx(de,{bgColor:"white",borderRadius:"lg",overflow:"hidden",w:"150px",userSelect:"none",children:e.jsx(qe,{src:c.image||"",width:"150px"})}):e.jsx(de,{bgColor:"white",borderRadius:"lg",overflow:"hidden",w:"150px",h:"150px",userSelect:"none",children:e.jsx(oe,{color:"black",size:"sm",children:"не выбрано"})}),e.jsxs(Q,{direction:["column","row"],children:[e.jsx(Z,{onClick:ee.openFilePicker,isDisabled:k,children:"загрузить"}),e.jsx(Z,{onClick:async()=>{var v;b.on();const p=await U.postForm(`/dashboard/widgets/${r.id}/upload_file`,{default_image:!0},(v=l.props.auth)==null?void 0:v.token);if(p.errors){X(p.errors,a),b.off();return}await A(),b.off()},isDisabled:k,children:"использовать стандартное"}),c.image&&e.jsx(Z,{isDisabled:k,onClick:async()=>{var v;b.on();const p=await U.post(`/dashboard/widgets/${r.id}/upload_file`,{image:null},(v=l.props.auth)==null?void 0:v.token);if(p.errors){X(p.errors,a),b.off();return}await A(),b.off()},children:"удалить"})]}),e.jsxs(ae,{fontSize:"sm",children:["поддерживаемые форматы: .png, .webp, .gif",e.jsx("br",{}),"максимальный размер: 100 мб"]})]}),e.jsxs(Q,{direction:"column",spacing:2,children:[e.jsx(oe,{size:"md",children:"звук"}),c.sound?e.jsx(Me,{src:c.sound,controls:!0}):e.jsx(ae,{fontSize:"sm",children:"не выбрано"}),e.jsxs(Q,{direction:["column","row"],children:[e.jsx(Z,{onClick:Y.openFilePicker,isDisabled:k,children:"загрузить"}),e.jsx(Z,{onClick:async()=>{var v;b.on();const p=await U.postForm(`/dashboard/widgets/${r.id}/upload_file`,{default_sound:!0},(v=l.props.auth)==null?void 0:v.token);if(p.errors){X(p.errors,a),b.off();return}await A(),b.off()},isDisabled:k,children:"использовать стандартное"}),c.sound&&e.jsx(Z,{isDisabled:k,onClick:async()=>{var v;b.on();const p=await U.post(`/dashboard/widgets/${r.id}/upload_file`,{sound:null},(v=l.props.auth)==null?void 0:v.token);if(p.errors){X(p.errors,a),b.off();return}await A(),b.off()},children:"удалить"})]}),e.jsxs(ae,{fontSize:"sm",children:["поддерживаемые форматы: .mp3, .wav",e.jsx("br",{}),"максимальный размер: 20 мб"]}),e.jsxs(P,{isInvalid:!!o.sound_volume,children:[e.jsx(T,{children:"громкость звука"}),e.jsx(ue,{isDisabled:m,min:0,max:100,value:s("sound_volume"),onChange:p=>_("sound_volume",p),isPercent:!0}),e.jsx(z,{error:o.sound_volume})]})]}),e.jsxs(Q,{direction:"column",spacing:2,children:[e.jsx(oe,{size:"md",children:"заголовок"}),e.jsx(de,{userSelect:"none",borderRadius:"lg",bgColor:"white",p:1,children:e.jsx(ae,{fontSize:s("title_settings.size"),color:s("title_settings.color"),fontWeight:s("title_settings.bold")?"bold":"normal",fontFamily:'"Roboto Condensed", sans-serif',fontStyle:s("title_settings.italic")?"italic":"normal",textDecoration:s("title_settings.underline")?"underline":"none",textTransform:s("title_settings.transform"),textShadow:`0px 0px ${s("title_settings.shadow_size")}px ${s("title_settings.shadow_color")}, 0px 0px ${s("title_settings.shadow_size")+1}px ${s("title_settings.shadow_color")}, 0px 0px ${s("title_settings.shadow_size")+2}px ${s("title_settings.shadow_color")}, 0px 0px ${s("title_settings.shadow_size")+3}px ${s("title_settings.shadow_color")}, 0px 0px ${s("title_settings.shadow_size")+4}px ${s("title_settings.shadow_color")}`,textAlign:"center",children:"Это текст превью!"})}),e.jsxs(P,{isInvalid:!!((G=o.title_settings)!=null&&G.size),children:[e.jsx(T,{children:"размер шрифта"}),e.jsx(ue,{isDisabled:m,min:8,max:110,value:s("title_settings.size"),onChange:p=>_("title_settings.size",p)}),e.jsx(z,{error:(re=o.title_settings)==null?void 0:re.size})]}),e.jsxs(P,{isInvalid:!!((ne=o.title_settings)!=null&&ne.color),children:[e.jsx(T,{children:"цвет шрифта"}),e.jsx(fe,{isDisabled:m,type:"color",bgColor:s("title_settings.color"),_focusVisible:{borderColor:"brand.500",boxShadow:"0 0 0 1px var(--aithercol-colors-brand-500)"},...g("title_settings.color",{required:!0})}),e.jsx(z,{error:(J=o.title_settings)==null?void 0:J.color})]}),e.jsxs(P,{isInvalid:!!((q=o.title_settings)!=null&&q.bold),children:[e.jsx(T,{children:"жирный"}),e.jsx(le,{enabledText:"да",disabledText:"нет",isDisabled:m,value:s("title_settings.bold"),onToggle:()=>_("title_settings.bold",!s("title_settings.bold"))}),e.jsx(z,{error:(I=o.title_settings)==null?void 0:I.bold})]}),e.jsxs(P,{isInvalid:!!((H=o.title_settings)!=null&&H.italic),children:[e.jsx(T,{children:"курсив"}),e.jsx(le,{enabledText:"да",disabledText:"нет",isDisabled:m,value:s("title_settings.italic"),onToggle:()=>_("title_settings.italic",!s("title_settings.italic"))}),e.jsx(z,{error:(M=o.title_settings)==null?void 0:M.italic})]}),e.jsxs(P,{isInvalid:!!((n=o.title_settings)!=null&&n.underline),children:[e.jsx(T,{children:"подчеркнутый"}),e.jsx(le,{enabledText:"да",disabledText:"нет",isDisabled:m,value:s("title_settings.underline"),onToggle:()=>_("title_settings.underline",!s("title_settings.underline"))}),e.jsx(z,{error:(t=o.title_settings)==null?void 0:t.underline})]}),e.jsxs(P,{isInvalid:!!((i=o.title_settings)!=null&&i.transform),children:[e.jsx(T,{children:"трансформация текста"}),e.jsxs(xe,{isDisabled:m,_focusVisible:{borderColor:"brand.500",boxShadow:"0 0 0 1px var(--aithercol-colors-brand-500)"},...g("title_settings.transform",{required:!0}),children:[e.jsx("option",{value:"none",children:"нет"}),e.jsx("option",{value:"uppercase",children:"заглавными"}),e.jsx("option",{value:"lowercase",children:"строчными"})]}),e.jsx(z,{error:(d=o.title_settings)==null?void 0:d.transform})]}),e.jsxs(P,{isInvalid:!!((u=o.title_settings)!=null&&u.shadow_size),children:[e.jsx(T,{children:"размер тени"}),e.jsx(ue,{isDisabled:m,min:0,max:20,value:s("title_settings.shadow_size"),onChange:p=>_("title_settings.shadow_size",p)}),e.jsx(z,{error:(h=o.title_settings)==null?void 0:h.shadow_size})]}),e.jsxs(P,{isInvalid:!!((w=o.title_settings)!=null&&w.shadow_color),children:[e.jsx(T,{children:"цвет тени"}),e.jsx(fe,{isDisabled:m,type:"color",bgColor:s("title_settings.shadow_color"),...g("title_settings.shadow_color",{required:!0})}),e.jsx(z,{error:(y=o.title_settings)==null?void 0:y.shadow_color})]})]}),e.jsxs(Q,{direction:"column",spacing:2,children:[e.jsx(oe,{size:"md",children:"сообщение"}),e.jsx(de,{userSelect:"none",borderRadius:"lg",bgColor:"white",p:1,children:e.jsx(ae,{fontSize:s("message_settings.size"),color:s("message_settings.color"),fontWeight:s("message_settings.bold")?"bold":"normal",fontFamily:'"Roboto Condensed", sans-serif',fontStyle:s("message_settings.italic")?"italic":"normal",textDecoration:s("message_settings.underline")?"underline":"none",textTransform:s("message_settings.transform"),textShadow:`0px 0px ${s("message_settings.shadow_size")}px ${s("message_settings.shadow_color")}, 0px 0px ${s("message_settings.shadow_size")+1}px ${s("message_settings.shadow_color")}, 0px 0px ${s("message_settings.shadow_size")+2}px ${s("message_settings.shadow_color")}, 0px 0px ${s("message_settings.shadow_size")+3}px ${s("message_settings.shadow_color")}, 0px 0px ${s("message_settings.shadow_size")+4}px ${s("message_settings.shadow_color")}`,textAlign:"center",children:"Это текст превью!"})}),e.jsxs(P,{isInvalid:!!((S=o.message_settings)!=null&&S.size),children:[e.jsx(T,{children:"размер шрифта"}),e.jsx(ue,{isDisabled:m,min:8,max:110,value:s("message_settings.size"),onChange:p=>_("message_settings.size",p)}),e.jsx(z,{error:(D=o.message_settings)==null?void 0:D.size})]}),e.jsxs(P,{isInvalid:!!((j=o.message_settings)!=null&&j.color),children:[e.jsx(T,{children:"цвет шрифта"}),e.jsx(fe,{isDisabled:m,type:"color",bgColor:s("message_settings.color"),...g("message_settings.color",{required:!0})}),e.jsx(z,{error:(E=o.message_settings)==null?void 0:E.color})]}),e.jsxs(P,{isInvalid:!!((K=o.message_settings)!=null&&K.bold),children:[e.jsx(T,{children:"жирный"}),e.jsx(le,{enabledText:"да",disabledText:"нет",isDisabled:m,value:s("message_settings.bold"),onToggle:()=>_("message_settings.bold",!s("message_settings.bold"))}),e.jsx(z,{error:(W=o.message_settings)==null?void 0:W.bold})]}),e.jsxs(P,{isInvalid:!!((V=o.message_settings)!=null&&V.italic),children:[e.jsx(T,{children:"курсив"}),e.jsx(le,{enabledText:"да",disabledText:"нет",isDisabled:m,value:s("message_settings.italic"),onToggle:()=>_("message_settings.italic",!s("message_settings.italic"))}),e.jsx(z,{error:(ie=o.message_settings)==null?void 0:ie.italic})]}),e.jsxs(P,{isInvalid:!!((C=o.message_settings)!=null&&C.underline),children:[e.jsx(T,{children:"подчеркнутый"}),e.jsx(le,{enabledText:"да",disabledText:"нет",isDisabled:m,value:s("message_settings.underline"),onToggle:()=>_("message_settings.underline",!s("message_settings.underline"))}),e.jsx(z,{error:($=o.message_settings)==null?void 0:$.underline})]}),e.jsxs(P,{isInvalid:!!((N=o.message_settings)!=null&&N.transform),children:[e.jsx(T,{children:"трансформация текста"}),e.jsxs(xe,{isDisabled:m,_focusVisible:{borderColor:"brand.500",boxShadow:"0 0 0 1px var(--aithercol-colors-brand-500)"},...g("message_settings.transform",{required:!0}),children:[e.jsx("option",{value:"none",children:"нет"}),e.jsx("option",{value:"uppercase",children:"заглавными"}),e.jsx("option",{value:"lowercase",children:"строчными"})]}),e.jsx(z,{error:(me=o.message_settings)==null?void 0:me.transform})]}),e.jsxs(P,{isInvalid:!!((we=o.message_settings)!=null&&we.shadow_size),children:[e.jsx(T,{children:"размер тени"}),e.jsx(ue,{isDisabled:m,min:0,max:20,value:s("message_settings.shadow_size"),onChange:p=>_("message_settings.shadow_size",p)}),e.jsx(z,{error:(je=o.message_settings)==null?void 0:je.shadow_size})]}),e.jsxs(P,{isInvalid:!!((ye=o.message_settings)!=null&&ye.shadow_color),children:[e.jsx(T,{children:"цвет тени"}),e.jsx(fe,{isDisabled:m,type:"color",bgColor:s("message_settings.shadow_color"),...g("message_settings.shadow_color",{required:!0})}),e.jsx(z,{error:(Se=o.message_settings)==null?void 0:Se.shadow_color})]})]}),e.jsx(Z,{type:"submit",isDisabled:m,children:"сохранить"})]}):e.jsx(de,{children:e.jsx(Ge,{color:"brand.300",size:"xl"})})]})})}export{ut as default};
